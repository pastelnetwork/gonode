// Code generated by goa v3.5.2, DO NOT EDIT.
//
// external_dupe_detection_api HTTP client CLI support package
//
// Command:
// $ goa gen github.com/pastelnetwork/gonode/walletnode/api/design

package client

import (
	"encoding/json"
	"fmt"
	"unicode/utf8"

	externaldupedetectionapi "github.com/pastelnetwork/gonode/walletnode/gen/external_dupe_detection_api"
	goa "goa.design/goa/v3/pkg"
)

// BuildInitiateSubmissionPayload builds the payload for the
// external_dupe_detection_api initiate_submission endpoint from CLI flags.
func BuildInitiateSubmissionPayload(externalDupeDetectionAPIInitiateSubmissionBody string) (*externaldupedetectionapi.ExternalDupeDetetionAPIInitiateSubmission, error) {
	var err error
	var body InitiateSubmissionRequestBody
	{
		err = json.Unmarshal([]byte(externalDupeDetectionAPIInitiateSubmissionBody), &body)
		if err != nil {
			return nil, fmt.Errorf("invalid JSON for body, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"datetime_request_initiated\": \"2006-01-02T15:04:05Z07:00\",\n      \"max_cost_for_dupe_detection_in_usd\": 10,\n      \"pastel_service_llc_api_id\": \"jXYJud3rmrR1Sk2scvR47N4E4J5Vv48uCC6se2nzHrBRdjaKj3ybPoi1Y2VVoRqi1GnQrYKjSxQAC7NBtvtEdS\",\n      \"pastel_service_llc_api_secret\": \"jXYJud3rmrR1Sk2scvR47N4E4J5Vv48uCC6se2nzHrBRdjaKj3ybPoi1Y2VVoRqi1GnQrYKjSxQAC7NBtvtEdS\",\n      \"request_id\": \"4c278a281fe2d077b2bcd141b382a98e94afb2d1557c87d0013bcf23d18052c5\",\n      \"sha3256_hash_of_submitted_image\": \"4c278a281fe2d077b2bcd141b382a98e94afb2d1557c87d0013bcf23d18052c5\",\n      \"submitted_image_data_base64\": \"Reprehenderit explicabo quo temporibus harum voluptates.\"\n   }'")
		}
		if utf8.RuneCountInString(body.RequestID) < 64 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.request_id", body.RequestID, utf8.RuneCountInString(body.RequestID), 64, true))
		}
		if utf8.RuneCountInString(body.RequestID) > 64 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.request_id", body.RequestID, utf8.RuneCountInString(body.RequestID), 64, false))
		}
		err = goa.MergeErrors(err, goa.ValidateFormat("body.datetime_request_initiated", body.DatetimeRequestInitiated, goa.FormatDateTime))

		if body.PastelServiceLLCAPIID != nil {
			err = goa.MergeErrors(err, goa.ValidatePattern("body.pastel_service_llc_api_id", *body.PastelServiceLLCAPIID, "^[a-zA-Z0-9]+$"))
		}
		if body.PastelServiceLLCAPIID != nil {
			if utf8.RuneCountInString(*body.PastelServiceLLCAPIID) < 86 {
				err = goa.MergeErrors(err, goa.InvalidLengthError("body.pastel_service_llc_api_id", *body.PastelServiceLLCAPIID, utf8.RuneCountInString(*body.PastelServiceLLCAPIID), 86, true))
			}
		}
		if body.PastelServiceLLCAPIID != nil {
			if utf8.RuneCountInString(*body.PastelServiceLLCAPIID) > 86 {
				err = goa.MergeErrors(err, goa.InvalidLengthError("body.pastel_service_llc_api_id", *body.PastelServiceLLCAPIID, utf8.RuneCountInString(*body.PastelServiceLLCAPIID), 86, false))
			}
		}
		err = goa.MergeErrors(err, goa.ValidatePattern("body.pastel_service_llc_api_secret", body.PastelServiceLLCAPISecret, "^[a-zA-Z0-9]+$"))
		if utf8.RuneCountInString(body.PastelServiceLLCAPISecret) < 86 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.pastel_service_llc_api_secret", body.PastelServiceLLCAPISecret, utf8.RuneCountInString(body.PastelServiceLLCAPISecret), 86, true))
		}
		if utf8.RuneCountInString(body.PastelServiceLLCAPISecret) > 86 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.pastel_service_llc_api_secret", body.PastelServiceLLCAPISecret, utf8.RuneCountInString(body.PastelServiceLLCAPISecret), 86, false))
		}
		if body.MaxCoseForDupeDetectionInUSD < 0 {
			err = goa.MergeErrors(err, goa.InvalidRangeError("body.max_cost_for_dupe_detection_in_usd", body.MaxCoseForDupeDetectionInUSD, 0, true))
		}
		if utf8.RuneCountInString(body.SHA3256HashOfSubmittedImage) < 64 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.sha3256_hash_of_submitted_image", body.SHA3256HashOfSubmittedImage, utf8.RuneCountInString(body.SHA3256HashOfSubmittedImage), 64, true))
		}
		if utf8.RuneCountInString(body.SHA3256HashOfSubmittedImage) > 64 {
			err = goa.MergeErrors(err, goa.InvalidLengthError("body.sha3256_hash_of_submitted_image", body.SHA3256HashOfSubmittedImage, utf8.RuneCountInString(body.SHA3256HashOfSubmittedImage), 64, false))
		}
		if err != nil {
			return nil, err
		}
	}
	v := &externaldupedetectionapi.ExternalDupeDetetionAPIInitiateSubmission{
		RequestID:                    body.RequestID,
		DatetimeRequestInitiated:     body.DatetimeRequestInitiated,
		PastelServiceLLCAPIID:        body.PastelServiceLLCAPIID,
		PastelServiceLLCAPISecret:    body.PastelServiceLLCAPISecret,
		MaxCoseForDupeDetectionInUSD: body.MaxCoseForDupeDetectionInUSD,
		SubmittedImageDataBase64:     body.SubmittedImageDataBase64,
		SHA3256HashOfSubmittedImage:  body.SHA3256HashOfSubmittedImage,
	}

	return v, nil
}
